<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" id="Definitions_0pru6n5" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.9.0">
  <bpmn:process id="POGR_REGISTRATION" isExecutable="true">
    <bpmn:endEvent id="EndEvent_BusinessSelect">
      <bpmn:incoming>Flow_0m8fo58</bpmn:incoming>
      <bpmn:incoming>Flow_1fzpw0q</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Screen_BusinessAreaSelect" name="Specify Business Area" camunda:formKey="POGR_BUSINESS_AREA">
      <bpmn:incoming>Flow_0e5zero</bpmn:incoming>
      <bpmn:outgoing>Flow_1m6ppjm</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="StartEvent_BusinessSelect">
      <bpmn:outgoing>Flow_0e5zero</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_0e5zero" sourceRef="StartEvent_BusinessSelect" targetRef="Screen_BusinessAreaSelect" />
    <bpmn:userTask id="Screen_Hmpo_DataInput" name="HMPO Data Input" camunda:formKey="POGR_HMPO_DATA_INPUT">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:outputParameter name="DeadlineDays">10</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1smdms3</bpmn:incoming>
      <bpmn:incoming>Flow_19zg0z2</bpmn:incoming>
      <bpmn:outgoing>Flow_0z6nk44</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_02t74c2">
      <bpmn:incoming>Flow_1ng48wh</bpmn:incoming>
      <bpmn:outgoing>Flow_1smdms3</bpmn:outgoing>
      <bpmn:outgoing>Flow_1dz65xk</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1m6ppjm" sourceRef="Screen_BusinessAreaSelect" targetRef="CallActivity_CorrespondentInput" />
    <bpmn:sequenceFlow id="Flow_1smdms3" sourceRef="Gateway_02t74c2" targetRef="Screen_Hmpo_DataInput">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ BusinessArea == "HMPO" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_0hpz69o" default="Flow_1icrh8u">
      <bpmn:incoming>Flow_0z6nk44</bpmn:incoming>
      <bpmn:incoming>Flow_19bliw2</bpmn:incoming>
      <bpmn:outgoing>Flow_0p2fc9m</bpmn:outgoing>
      <bpmn:outgoing>Flow_1icrh8u</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0p2fc9m" sourceRef="Gateway_0hpz69o" targetRef="Service_UpdateCaseDeadline">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ DIRECTION == "FORWARD" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1icrh8u" sourceRef="Gateway_0hpz69o" targetRef="CallActivity_CorrespondentInput" />
    <bpmn:callActivity id="CallActivity_CorrespondentInput" name="Correspondent Input" calledElement="COMPLAINT_CORRESPONDENT">
      <bpmn:extensionElements>
        <camunda:out source="DIRECTION" target="DIRECTION" />
        <camunda:in source="CaseUUID" target="CaseUUID" />
        <camunda:in sourceExpression="POGR_CORRESPONDENT_INVALID" target="CORRESPONDENT_INVALID_SCREEN" local="true" />
        <camunda:in sourceExpression="POGR_CORRESPONDENT_INPUT" target="CORRESPONDENT_INPUT_SCREEN" local="true" />
        <camunda:in businessKey="#{execution.processBusinessKey}" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1icrh8u</bpmn:incoming>
      <bpmn:incoming>Flow_1m6ppjm</bpmn:incoming>
      <bpmn:outgoing>Flow_1ng48wh</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_1ng48wh" sourceRef="CallActivity_CorrespondentInput" targetRef="Gateway_02t74c2" />
    <bpmn:sequenceFlow id="Flow_0z6nk44" sourceRef="Screen_Hmpo_DataInput" targetRef="Gateway_0hpz69o" />
    <bpmn:userTask id="Screen_SendInterimLetter" name="Send Interim Letter" camunda:formKey="POGR_SEND_INTERIM_LETTER">
      <bpmn:incoming>Flow_0q1lw66</bpmn:incoming>
      <bpmn:incoming>Flow_0x5nzp2</bpmn:incoming>
      <bpmn:outgoing>Flow_1ix4lia</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1ix4lia" sourceRef="Screen_SendInterimLetter" targetRef="Gateway_17gsdwh" />
    <bpmn:exclusiveGateway id="Gateway_17gsdwh" default="Flow_1xp81wc">
      <bpmn:incoming>Flow_1ix4lia</bpmn:incoming>
      <bpmn:outgoing>Flow_069b3sc</bpmn:outgoing>
      <bpmn:outgoing>Flow_1xp81wc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_069b3sc" sourceRef="Gateway_17gsdwh" targetRef="Gateway_0bct3y6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ DIRECTION == "FORWARD" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1yq3rs5">
      <bpmn:incoming>Flow_1xp81wc</bpmn:incoming>
      <bpmn:outgoing>Flow_19zg0z2</bpmn:outgoing>
      <bpmn:outgoing>Flow_1hqar82</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_19zg0z2" sourceRef="Gateway_1yq3rs5" targetRef="Screen_Hmpo_DataInput">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ BusinessArea == "HMPO" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1xp81wc" sourceRef="Gateway_17gsdwh" targetRef="Gateway_1yq3rs5" />
    <bpmn:exclusiveGateway id="Gateway_0bct3y6" default="Flow_0m8fo58">
      <bpmn:incoming>Flow_069b3sc</bpmn:incoming>
      <bpmn:outgoing>Flow_0m8fo58</bpmn:outgoing>
      <bpmn:outgoing>Flow_1i93l05</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0m8fo58" sourceRef="Gateway_0bct3y6" targetRef="EndEvent_BusinessSelect" />
    <bpmn:userTask id="Screen_GroAllocateTeam" name="Allocate to GRO Team" camunda:formKey="POGR_GRO_ALLOCATE_TEAM">
      <bpmn:incoming>Flow_1i93l05</bpmn:incoming>
      <bpmn:outgoing>Flow_0l90vyi</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0l90vyi" sourceRef="Screen_GroAllocateTeam" targetRef="Gateway_1pmc3bt" />
    <bpmn:sequenceFlow id="Flow_1i93l05" sourceRef="Gateway_0bct3y6" targetRef="Screen_GroAllocateTeam">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ BusinessArea == "GRO" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1pmc3bt" default="Flow_0q1lw66">
      <bpmn:incoming>Flow_0l90vyi</bpmn:incoming>
      <bpmn:outgoing>Flow_0q1lw66</bpmn:outgoing>
      <bpmn:outgoing>Flow_1cib5mq</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0q1lw66" sourceRef="Gateway_1pmc3bt" targetRef="Screen_SendInterimLetter" />
    <bpmn:serviceTask id="Service_SetGroTriageTeam" name="Update Triage Team" camunda:expression="${bpmnService.updateTeamByStageAndTexts(execution.getVariable(&#34;CaseUUID&#34;),execution.processBusinessKey,&#34;POGR_GRO_TRIAGE&#34;,&#34;DraftTeamUUID&#34;,&#34;DraftTeamName&#34;,&#34;GroInvestigatingTeamSelection&#34;)}">
      <bpmn:incoming>Flow_1cib5mq</bpmn:incoming>
      <bpmn:outgoing>Flow_1fzpw0q</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1cib5mq" sourceRef="Gateway_1pmc3bt" targetRef="Service_SetGroTriageTeam">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ DIRECTION == "FORWARD" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1fzpw0q" sourceRef="Service_SetGroTriageTeam" targetRef="EndEvent_BusinessSelect" />
    <bpmn:sequenceFlow id="Flow_1dz65xk" sourceRef="Gateway_02t74c2" targetRef="CallActivity_Gro_DataInput">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ BusinessArea == "GRO" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_19bliw2" sourceRef="CallActivity_Gro_DataInput" targetRef="Gateway_0hpz69o" />
    <bpmn:serviceTask id="Service_UpdateCaseDeadline" name="Update Case Deadline" camunda:expression="${bpmnService.updateDeadlineDays(execution.getVariable(&#34;CaseUUID&#34;), execution.processBusinessKey, execution.getVariable(&#34;DeadlineDays&#34;))}">
      <bpmn:incoming>Flow_0p2fc9m</bpmn:incoming>
      <bpmn:outgoing>Flow_0x5nzp2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0x5nzp2" sourceRef="Service_UpdateCaseDeadline" targetRef="Screen_SendInterimLetter" />
    <bpmn:sequenceFlow id="Flow_1hqar82" sourceRef="Gateway_1yq3rs5" targetRef="CallActivity_Gro_DataInput">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ BusinessArea == "GRO" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:callActivity id="CallActivity_Gro_DataInput" name="GRO Data Input" calledElement="POGR_GRO_PRIORITY_CHANGE_SCREEN">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out variables="all" />
        <camunda:in sourceExpression="POGR_GRO_DATA_INPUT" target="SCREEN_KEY" local="true" />
        <camunda:in businessKey="#{execution.processBusinessKey}" />
        <camunda:inputOutput>
          <camunda:outputParameter name="DeadlineDays">${ ComplaintPriority == "Yes" ? 1 : (ComplaintChannel == 'Post' ? 10 : 5) }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1hqar82</bpmn:incoming>
      <bpmn:incoming>Flow_1dz65xk</bpmn:incoming>
      <bpmn:outgoing>Flow_19bliw2</bpmn:outgoing>
    </bpmn:callActivity>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="POGR_REGISTRATION">
      <bpmndi:BPMNEdge id="Flow_1hqar82_di" bpmnElement="Flow_1hqar82" bioc:stroke="#e53935" color:border-color="#e53935">
        <di:waypoint x="1135" y="150" />
        <di:waypoint x="950" y="150" />
        <di:waypoint x="950" y="360" />
        <di:waypoint x="840" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x5nzp2_di" bpmnElement="Flow_0x5nzp2">
        <di:waypoint x="1070" y="261" />
        <di:waypoint x="1110" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19bliw2_di" bpmnElement="Flow_19bliw2">
        <di:waypoint x="790" y="320" />
        <di:waypoint x="790" y="261" />
        <di:waypoint x="865" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dz65xk_di" bpmnElement="Flow_1dz65xk">
        <di:waypoint x="650" y="284" />
        <di:waypoint x="650" y="360" />
        <di:waypoint x="740" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fzpw0q_di" bpmnElement="Flow_1fzpw0q">
        <di:waypoint x="1700" y="360" />
        <di:waypoint x="1730" y="360" />
        <di:waypoint x="1730" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cib5mq_di" bpmnElement="Flow_1cib5mq">
        <di:waypoint x="1555" y="360" />
        <di:waypoint x="1600" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0q1lw66_di" bpmnElement="Flow_0q1lw66">
        <di:waypoint x="1530" y="385" />
        <di:waypoint x="1530" y="440" />
        <di:waypoint x="1160" y="440" />
        <di:waypoint x="1160" y="301" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i93l05_di" bpmnElement="Flow_1i93l05">
        <di:waypoint x="1410" y="287" />
        <di:waypoint x="1410" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l90vyi_di" bpmnElement="Flow_0l90vyi">
        <di:waypoint x="1460" y="360" />
        <di:waypoint x="1505" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m8fo58_di" bpmnElement="Flow_0m8fo58">
        <di:waypoint x="1435" y="262" />
        <di:waypoint x="1712" y="262" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xp81wc_di" bpmnElement="Flow_1xp81wc">
        <di:waypoint x="1300" y="236" />
        <di:waypoint x="1300" y="150" />
        <di:waypoint x="1185" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19zg0z2_di" bpmnElement="Flow_19zg0z2">
        <di:waypoint x="1135" y="150" />
        <di:waypoint x="840" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_069b3sc_di" bpmnElement="Flow_069b3sc">
        <di:waypoint x="1325" y="261" />
        <di:waypoint x="1386" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ix4lia_di" bpmnElement="Flow_1ix4lia">
        <di:waypoint x="1210" y="261" />
        <di:waypoint x="1275" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z6nk44_di" bpmnElement="Flow_0z6nk44">
        <di:waypoint x="790" y="190" />
        <di:waypoint x="790" y="262" />
        <di:waypoint x="866" y="262" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ng48wh_di" bpmnElement="Flow_1ng48wh">
        <di:waypoint x="540" y="259" />
        <di:waypoint x="625" y="259" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1icrh8u_di" bpmnElement="Flow_1icrh8u">
        <di:waypoint x="890" y="236" />
        <di:waypoint x="890" y="80" />
        <di:waypoint x="490" y="80" />
        <di:waypoint x="490" y="219" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p2fc9m_di" bpmnElement="Flow_0p2fc9m">
        <di:waypoint x="915" y="261" />
        <di:waypoint x="970" y="261" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1smdms3_di" bpmnElement="Flow_1smdms3">
        <di:waypoint x="650" y="234" />
        <di:waypoint x="650" y="150" />
        <di:waypoint x="740" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m6ppjm_di" bpmnElement="Flow_1m6ppjm">
        <di:waypoint x="370" y="259" />
        <di:waypoint x="440" y="259" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0e5zero_di" bpmnElement="Flow_0e5zero">
        <di:waypoint x="188" y="261" />
        <di:waypoint x="229" y="261" />
        <di:waypoint x="229" y="259" />
        <di:waypoint x="270" y="259" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0h34pj4_di" bpmnElement="EndEvent_BusinessSelect">
        <dc:Bounds x="1712" y="244" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="797" y="92" width="49" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0j3nawz_di" bpmnElement="Screen_Hmpo_DataInput">
        <dc:Bounds x="740" y="110" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_02t74c2_di" bpmnElement="Gateway_02t74c2" isMarkerVisible="true">
        <dc:Bounds x="625" y="234" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0hpz69o_di" bpmnElement="Gateway_0hpz69o" isMarkerVisible="true">
        <dc:Bounds x="865" y="236" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06j90mr_di" bpmnElement="Screen_SendInterimLetter">
        <dc:Bounds x="1110" y="221" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17gsdwh_di" bpmnElement="Gateway_17gsdwh" isMarkerVisible="true">
        <dc:Bounds x="1275" y="236" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1yq3rs5_di" bpmnElement="Gateway_1yq3rs5" isMarkerVisible="true">
        <dc:Bounds x="1135" y="125" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0bct3y6_di" bpmnElement="Gateway_0bct3y6" isMarkerVisible="true">
        <dc:Bounds x="1385" y="237" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1kvkb25_di" bpmnElement="Screen_GroAllocateTeam">
        <dc:Bounds x="1360" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1pmc3bt_di" bpmnElement="Gateway_1pmc3bt" isMarkerVisible="true">
        <dc:Bounds x="1505" y="335" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0n0dcir_di" bpmnElement="Service_SetGroTriageTeam">
        <dc:Bounds x="1600" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0336ivu_di" bpmnElement="Service_UpdateCaseDeadline">
        <dc:Bounds x="970" y="221" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ioujpq_di" bpmnElement="CallActivity_Gro_DataInput">
        <dc:Bounds x="740" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_041oil2_di" bpmnElement="CallActivity_CorrespondentInput">
        <dc:Bounds x="440" y="219" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qfkwvq_di" bpmnElement="Screen_BusinessAreaSelect">
        <dc:Bounds x="270" y="219" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1q1dr52_di" bpmnElement="StartEvent_BusinessSelect">
        <dc:Bounds x="152" y="243" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
