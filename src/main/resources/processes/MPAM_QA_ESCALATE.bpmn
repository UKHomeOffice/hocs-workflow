<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0kj1thq" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.1.2">
  <bpmn:process id="MPAM_QA_ESCALATE" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_00nr0mt</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="ServiceTask_1wy3fri" name="User Input" camunda:expression="MPAM_QA_ESCALATE_INPUT" camunda:resultVariable="screen">
      <bpmn:incoming>SequenceFlow_04yfzxr</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_00nr0mt</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_081cik4</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0ri6jf2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_00nixlu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_11q38dl" name="Validate User Input">
      <bpmn:incoming>SequenceFlow_00nixlu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u9kmvn</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0va2rv0">
      <bpmn:incoming>SequenceFlow_0u9kmvn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04yfzxr</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_13ysecy</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_1ftfd0j" name="End Stage">
      <bpmn:incoming>SequenceFlow_0zvm4uu</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1sfoyao</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_04yfzxr" name="false" sourceRef="ExclusiveGateway_0va2rv0" targetRef="ServiceTask_1wy3fri">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_00nixlu" sourceRef="ServiceTask_1wy3fri" targetRef="UserTask_11q38dl" />
    <bpmn:sequenceFlow id="SequenceFlow_0u9kmvn" sourceRef="UserTask_11q38dl" targetRef="ExclusiveGateway_0va2rv0" />
    <bpmn:sequenceFlow id="SequenceFlow_13ysecy" sourceRef="ExclusiveGateway_0va2rv0" targetRef="ExclusiveGateway_1lv5wkv">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_00nr0mt" sourceRef="StartEvent_1" targetRef="ServiceTask_1wy3fri" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_1lv5wkv" name="Keep Escalated?">
      <bpmn:incoming>SequenceFlow_13ysecy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pcvci9</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_081cik4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1pcvci9" sourceRef="ExclusiveGateway_1lv5wkv" targetRef="ExclusiveGateway_1km0ams">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${QaStatus != "Escalate"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_081cik4" sourceRef="ExclusiveGateway_1lv5wkv" targetRef="ServiceTask_1wy3fri">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${QaStatus == "Escalate"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="ServiceTask_1hgdq2a" name="Close case" camunda:expression="MPAM_QA_ESCALATE_CLOSE" camunda:resultVariable="screen">
      <bpmn:incoming>SequenceFlow_1wrbzhf</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1imjtjb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gie4ln</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_0bqyg4i" name="Validate User Input">
      <bpmn:incoming>SequenceFlow_0gie4ln</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0abs4r7</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0xzs4jx">
      <bpmn:incoming>SequenceFlow_0ihfare</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wrbzhf</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0kkqiy9</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0dnumlg" name="Direction check">
      <bpmn:incoming>SequenceFlow_0abs4r7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ihfare</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ri6jf2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="ServiceTask_1nqp32j" name="Save QA Closure Note" camunda:expression="${bpmnService.updateAllocationNote(execution.getVariable(&#34;CaseUUID&#34;),execution.processBusinessKey, execution.getVariable(&#34;CaseNote_QaClose&#34;), &#34;CLOSE&#34;)}">
      <bpmn:incoming>SequenceFlow_0kkqiy9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1sfoyao</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1wrbzhf" name="false" sourceRef="ExclusiveGateway_0xzs4jx" targetRef="ServiceTask_1hgdq2a">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0gie4ln" sourceRef="ServiceTask_1hgdq2a" targetRef="UserTask_0bqyg4i" />
    <bpmn:sequenceFlow id="SequenceFlow_0kkqiy9" sourceRef="ExclusiveGateway_0xzs4jx" targetRef="ServiceTask_1nqp32j">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0ihfare" sourceRef="ExclusiveGateway_0dnumlg" targetRef="ExclusiveGateway_0xzs4jx">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "FORWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1km0ams" name="Close?">
      <bpmn:incoming>SequenceFlow_1pcvci9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zvm4uu</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1imjtjb</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0zvm4uu" sourceRef="ExclusiveGateway_1km0ams" targetRef="EndEvent_1ftfd0j">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${QaStatus != "Close"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1imjtjb" sourceRef="ExclusiveGateway_1km0ams" targetRef="ServiceTask_1hgdq2a">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${QaStatus == "Close"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0ri6jf2" sourceRef="ExclusiveGateway_0dnumlg" targetRef="ServiceTask_1wy3fri">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "BACKWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1sfoyao" sourceRef="ServiceTask_1nqp32j" targetRef="EndEvent_1ftfd0j" />
    <bpmn:sequenceFlow id="SequenceFlow_0abs4r7" sourceRef="UserTask_0bqyg4i" targetRef="ExclusiveGateway_0dnumlg" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="MPAM_QA_ESCALATE">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="81" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1wy3fri_di" bpmnElement="ServiceTask_1wy3fri">
        <dc:Bounds x="369" y="59" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_11q38dl_di" bpmnElement="UserTask_11q38dl">
        <dc:Bounds x="369" y="222" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0va2rv0_di" bpmnElement="ExclusiveGateway_0va2rv0" isMarkerVisible="true">
        <dc:Bounds x="574" y="157" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1ftfd0j_di" bpmnElement="EndEvent_1ftfd0j">
        <dc:Bounds x="1397" y="164" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1443" y="175" width="52" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_04yfzxr_di" bpmnElement="SequenceFlow_04yfzxr">
        <di:waypoint x="599" y="157" />
        <di:waypoint x="599" y="99" />
        <di:waypoint x="469" y="99" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="587" y="78" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_00nixlu_di" bpmnElement="SequenceFlow_00nixlu">
        <di:waypoint x="419" y="139" />
        <di:waypoint x="419" y="222" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0u9kmvn_di" bpmnElement="SequenceFlow_0u9kmvn">
        <di:waypoint x="469" y="262" />
        <di:waypoint x="599" y="262" />
        <di:waypoint x="599" y="207" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_13ysecy_di" bpmnElement="SequenceFlow_13ysecy">
        <di:waypoint x="624" y="182" />
        <di:waypoint x="669" y="182" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_00nr0mt_di" bpmnElement="SequenceFlow_00nr0mt">
        <di:waypoint x="215" y="99" />
        <di:waypoint x="369" y="99" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1lv5wkv_di" bpmnElement="ExclusiveGateway_1lv5wkv" isMarkerVisible="true">
        <dc:Bounds x="669" y="157" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="652" y="214" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pcvci9_di" bpmnElement="SequenceFlow_1pcvci9">
        <di:waypoint x="719" y="182" />
        <di:waypoint x="770" y="182" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_081cik4_di" bpmnElement="SequenceFlow_081cik4">
        <di:waypoint x="694" y="157" />
        <di:waypoint x="694" y="99" />
        <di:waypoint x="469" y="99" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1hgdq2a_di" bpmnElement="ServiceTask_1hgdq2a">
        <dc:Bounds x="745" y="328" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0bqyg4i_di" bpmnElement="UserTask_0bqyg4i">
        <dc:Bounds x="745" y="491" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0xzs4jx_di" bpmnElement="ExclusiveGateway_0xzs4jx" isMarkerVisible="true">
        <dc:Bounds x="950" y="426" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0dnumlg_di" bpmnElement="ExclusiveGateway_0dnumlg" isMarkerVisible="true">
        <dc:Bounds x="894" y="506" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="881" y="491" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1nqp32j_di" bpmnElement="ServiceTask_1nqp32j">
        <dc:Bounds x="1209" y="411" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1wrbzhf_di" bpmnElement="SequenceFlow_1wrbzhf">
        <di:waypoint x="975" y="426" />
        <di:waypoint x="975" y="368" />
        <di:waypoint x="845" y="368" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="963" y="347" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gie4ln_di" bpmnElement="SequenceFlow_0gie4ln">
        <di:waypoint x="795" y="408" />
        <di:waypoint x="795" y="491" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0kkqiy9_di" bpmnElement="SequenceFlow_0kkqiy9">
        <di:waypoint x="1000" y="451" />
        <di:waypoint x="1208" y="451" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ihfare_di" bpmnElement="SequenceFlow_0ihfare">
        <di:waypoint x="944" y="531" />
        <di:waypoint x="975" y="531" />
        <di:waypoint x="975" y="477" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="985.5" y="510" width="57" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1km0ams_di" bpmnElement="ExclusiveGateway_1km0ams" isMarkerVisible="true">
        <dc:Bounds x="770" y="157" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="777" y="133" width="35" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0zvm4uu_di" bpmnElement="SequenceFlow_0zvm4uu">
        <di:waypoint x="820" y="182" />
        <di:waypoint x="1397" y="182" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1imjtjb_di" bpmnElement="SequenceFlow_1imjtjb">
        <di:waypoint x="795" y="207" />
        <di:waypoint x="795" y="328" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ri6jf2_di" bpmnElement="SequenceFlow_0ri6jf2">
        <di:waypoint x="919" y="556" />
        <di:waypoint x="919" y="629" />
        <di:waypoint x="300" y="629" />
        <di:waypoint x="300" y="99" />
        <di:waypoint x="369" y="99" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="904" y="575" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1sfoyao_di" bpmnElement="SequenceFlow_1sfoyao">
        <di:waypoint x="1309" y="451" />
        <di:waypoint x="1339" y="451" />
        <di:waypoint x="1339" y="182" />
        <di:waypoint x="1397" y="182" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0abs4r7_di" bpmnElement="SequenceFlow_0abs4r7">
        <di:waypoint x="845" y="531" />
        <di:waypoint x="894" y="531" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
