<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_175l997" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.1.2">
  <bpmn:process id="COMP_SERVICE_WFM" isExecutable="true">
    <bpmn:startEvent id="StartEvent_COMP_SERVICE_WFM">
      <bpmn:outgoing>SequenceFlow_1q1ruzd</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="Screen_Accept" name="Accept" camunda:expression="COMP_SERVICE_WFM_ACCEPT" camunda:resultVariable="screen">
      <bpmn:incoming>SequenceFlow_050jzj1</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1q1ruzd</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_124qjph</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1ugzeu8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0x7ppqd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_0p0in38" name="Validate Accept">
      <bpmn:incoming>SequenceFlow_0x7ppqd</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16sye6o</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0q9llkt">
      <bpmn:incoming>SequenceFlow_16sye6o</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_050jzj1</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1decfxm</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_050jzj1" name="false" sourceRef="ExclusiveGateway_0q9llkt" targetRef="Screen_Accept">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0x7ppqd" sourceRef="Screen_Accept" targetRef="UserTask_0p0in38" />
    <bpmn:sequenceFlow id="SequenceFlow_16sye6o" sourceRef="UserTask_0p0in38" targetRef="ExclusiveGateway_0q9llkt" />
    <bpmn:sequenceFlow id="SequenceFlow_1q1ruzd" sourceRef="StartEvent_COMP_SERVICE_WFM" targetRef="Screen_Accept" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0cmftpf">
      <bpmn:incoming>SequenceFlow_1decfxm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0q33pb0</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1oob9ba</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1decfxm" sourceRef="ExclusiveGateway_0q9llkt" targetRef="ExclusiveGateway_0cmftpf">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Validate_CaseDetails" name="Validate Case Details">
      <bpmn:incoming>SequenceFlow_0ghmtdb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0mfs591</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_13pb43r">
      <bpmn:incoming>SequenceFlow_02jmag0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0l7p3l0</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1kddoud</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Screen_CaseDetails" name="Case Details" camunda:expression="COMP_SERVICE_WFM_CASE_DETAILS" camunda:resultVariable="screen">
      <bpmn:incoming>SequenceFlow_0l7p3l0</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0q33pb0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ghmtdb</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_011x0zm" name="Direction check">
      <bpmn:incoming>SequenceFlow_0mfs591</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02jmag0</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_124qjph</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0ghmtdb" sourceRef="Screen_CaseDetails" targetRef="Validate_CaseDetails" />
    <bpmn:sequenceFlow id="SequenceFlow_0mfs591" sourceRef="Validate_CaseDetails" targetRef="ExclusiveGateway_011x0zm" />
    <bpmn:sequenceFlow id="SequenceFlow_02jmag0" sourceRef="ExclusiveGateway_011x0zm" targetRef="ExclusiveGateway_13pb43r">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "FORWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0l7p3l0" name="false" sourceRef="ExclusiveGateway_13pb43r" targetRef="Screen_CaseDetails">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0q33pb0" sourceRef="ExclusiveGateway_0cmftpf" targetRef="Screen_CaseDetails">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${WfmAccept == "Yes"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_124qjph" sourceRef="ExclusiveGateway_011x0zm" targetRef="Screen_Accept">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "BACKWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Validate_Transfer" name="Validate Transfer">
      <bpmn:incoming>SequenceFlow_1cv1tlk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_05obcma</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0huscm0">
      <bpmn:incoming>SequenceFlow_0upzxr4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02xgg4t</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1m8fxv4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1gyeeuj" name="Direction check">
      <bpmn:incoming>SequenceFlow_05obcma</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0upzxr4</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1ugzeu8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Screen_Transfer" name="Transfer" camunda:expression="COMP_SERVICE_WFM_TRANSFER" camunda:resultVariable="screen">
      <bpmn:incoming>SequenceFlow_02xgg4t</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1oob9ba</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cv1tlk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1cv1tlk" sourceRef="Screen_Transfer" targetRef="Validate_Transfer" />
    <bpmn:sequenceFlow id="SequenceFlow_05obcma" sourceRef="Validate_Transfer" targetRef="ExclusiveGateway_1gyeeuj" />
    <bpmn:sequenceFlow id="SequenceFlow_0upzxr4" sourceRef="ExclusiveGateway_1gyeeuj" targetRef="ExclusiveGateway_0huscm0">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "FORWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_02xgg4t" name="false" sourceRef="ExclusiveGateway_0huscm0" targetRef="Screen_Transfer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1oob9ba" sourceRef="ExclusiveGateway_0cmftpf" targetRef="Screen_Transfer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${WfmAccept == "No"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ugzeu8" sourceRef="ExclusiveGateway_1gyeeuj" targetRef="Screen_Accept">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DIRECTION == "BACKWARD"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_COMP_SERVICE_WFM">
      <bpmn:incoming>SequenceFlow_04hkuu1</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1a322dn</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1m8fxv4" sourceRef="ExclusiveGateway_0huscm0" targetRef="ServiceTask_UpdateAllocationNote">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1kddoud" sourceRef="ExclusiveGateway_13pb43r" targetRef="ServiceTask_1x2rs15">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="ServiceTask_UpdateAllocationNote" name="Save Reject Note" camunda:expression="${bpmnService.updateAllocationNote(execution.getVariable(&#34;CaseUUID&#34;),execution.processBusinessKey, execution.getVariable(&#34;CaseNote_WfmTransfer&#34;), &#34;REJECT&#34;)}">
      <bpmn:incoming>SequenceFlow_1m8fxv4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04hkuu1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_04hkuu1" sourceRef="ServiceTask_UpdateAllocationNote" targetRef="EndEvent_COMP_SERVICE_WFM" />
    <bpmn:serviceTask id="ServiceTask_1x2rs15" name="Update Team for Service Triage" camunda:expression="${bpmnService.updateTeamByStageAndTexts(execution.getVariable(&#34;CaseUUID&#34;),execution.processBusinessKey,&#34;COMP_SERVICE_TRIAGE&#34;,&#34;QueueTeamUUID&#34;,&#34;QueueTeamName&#34;,&#34;Stage&#34;)}">
      <bpmn:incoming>SequenceFlow_1kddoud</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1a322dn</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1a322dn" sourceRef="ServiceTask_1x2rs15" targetRef="EndEvent_COMP_SERVICE_WFM" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="COMP_SERVICE_WFM">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_COMP_SERVICE_WFM">
        <dc:Bounds x="179" y="103" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_08ha5c4_di" bpmnElement="Screen_Accept">
        <dc:Bounds x="344" y="81" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0p0in38_di" bpmnElement="UserTask_0p0in38">
        <dc:Bounds x="344" y="244" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0q9llkt_di" bpmnElement="ExclusiveGateway_0q9llkt" isMarkerVisible="true">
        <dc:Bounds x="549" y="96" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_050jzj1_di" bpmnElement="SequenceFlow_050jzj1">
        <di:waypoint x="549" y="121" />
        <di:waypoint x="444" y="121" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="530.5" y="101" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0x7ppqd_di" bpmnElement="SequenceFlow_0x7ppqd">
        <di:waypoint x="394" y="161" />
        <di:waypoint x="394" y="244" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16sye6o_di" bpmnElement="SequenceFlow_16sye6o">
        <di:waypoint x="444" y="284" />
        <di:waypoint x="574" y="284" />
        <di:waypoint x="574" y="146" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1q1ruzd_di" bpmnElement="SequenceFlow_1q1ruzd">
        <di:waypoint x="215" y="121" />
        <di:waypoint x="344" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0cmftpf_di" bpmnElement="ExclusiveGateway_0cmftpf" isMarkerVisible="true">
        <dc:Bounds x="697" y="96" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1decfxm_di" bpmnElement="SequenceFlow_1decfxm">
        <di:waypoint x="599" y="121" />
        <di:waypoint x="697" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_08z1iqb_di" bpmnElement="Validate_CaseDetails">
        <dc:Bounds x="853" y="244" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_13pb43r_di" bpmnElement="ExclusiveGateway_13pb43r" isMarkerVisible="true">
        <dc:Bounds x="1058" y="96" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1xcw6au_di" bpmnElement="Screen_CaseDetails">
        <dc:Bounds x="853" y="81" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_011x0zm_di" bpmnElement="ExclusiveGateway_011x0zm" isMarkerVisible="true">
        <dc:Bounds x="1058" y="259" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1118" y="277" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ghmtdb_di" bpmnElement="SequenceFlow_0ghmtdb">
        <di:waypoint x="903" y="161" />
        <di:waypoint x="903" y="244" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0mfs591_di" bpmnElement="SequenceFlow_0mfs591">
        <di:waypoint x="953" y="284" />
        <di:waypoint x="1058" y="284" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_02jmag0_di" bpmnElement="SequenceFlow_02jmag0">
        <di:waypoint x="1083" y="259" />
        <di:waypoint x="1083" y="146" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0l7p3l0_di" bpmnElement="SequenceFlow_0l7p3l0">
        <di:waypoint x="1058" y="121" />
        <di:waypoint x="953" y="121" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1039.5" y="102" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0q33pb0_di" bpmnElement="SequenceFlow_0q33pb0">
        <di:waypoint x="747" y="121" />
        <di:waypoint x="853" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_124qjph_di" bpmnElement="SequenceFlow_124qjph">
        <di:waypoint x="1083" y="309" />
        <di:waypoint x="1083" y="429" />
        <di:waypoint x="280" y="429" />
        <di:waypoint x="280" y="121" />
        <di:waypoint x="344" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_06imuug_di" bpmnElement="Validate_Transfer">
        <dc:Bounds x="853" y="707" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0huscm0_di" bpmnElement="ExclusiveGateway_0huscm0" isMarkerVisible="true">
        <dc:Bounds x="1058" y="559" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1gyeeuj_di" bpmnElement="ExclusiveGateway_1gyeeuj" isMarkerVisible="true">
        <dc:Bounds x="1058" y="722" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1118" y="740" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_00id401_di" bpmnElement="Screen_Transfer">
        <dc:Bounds x="853" y="544" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1cv1tlk_di" bpmnElement="SequenceFlow_1cv1tlk">
        <di:waypoint x="903" y="624" />
        <di:waypoint x="903" y="707" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_05obcma_di" bpmnElement="SequenceFlow_05obcma">
        <di:waypoint x="953" y="747" />
        <di:waypoint x="1058" y="747" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0upzxr4_di" bpmnElement="SequenceFlow_0upzxr4">
        <di:waypoint x="1083" y="722" />
        <di:waypoint x="1083" y="609" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_02xgg4t_di" bpmnElement="SequenceFlow_02xgg4t">
        <di:waypoint x="1058" y="584" />
        <di:waypoint x="953" y="584" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1039.5" y="565" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1oob9ba_di" bpmnElement="SequenceFlow_1oob9ba">
        <di:waypoint x="722" y="146" />
        <di:waypoint x="722" y="584" />
        <di:waypoint x="853" y="584" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ugzeu8_di" bpmnElement="SequenceFlow_1ugzeu8">
        <di:waypoint x="1083" y="772" />
        <di:waypoint x="1083" y="886" />
        <di:waypoint x="280" y="886" />
        <di:waypoint x="280" y="121" />
        <di:waypoint x="344" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0nfwwrc_di" bpmnElement="EndEvent_COMP_SERVICE_WFM">
        <dc:Bounds x="1368" y="103" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1m8fxv4_di" bpmnElement="SequenceFlow_1m8fxv4">
        <di:waypoint x="1108" y="584" />
        <di:waypoint x="1207" y="584" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1kddoud_di" bpmnElement="SequenceFlow_1kddoud">
        <di:waypoint x="1108" y="121" />
        <di:waypoint x="1207" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_09vxxvz_di" bpmnElement="ServiceTask_UpdateAllocationNote">
        <dc:Bounds x="1207" y="544" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_04hkuu1_di" bpmnElement="SequenceFlow_04hkuu1">
        <di:waypoint x="1307" y="584" />
        <di:waypoint x="1386" y="584" />
        <di:waypoint x="1386" y="139" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1x2rs15_di" bpmnElement="ServiceTask_1x2rs15">
        <dc:Bounds x="1207" y="81" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1a322dn_di" bpmnElement="SequenceFlow_1a322dn">
        <di:waypoint x="1307" y="121" />
        <di:waypoint x="1368" y="121" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
